(()=>{var e={950:(e,t,r)=>{function n(e,t,r,n,o,c,s){try{var a=e[c](s),i=a.value}catch(e){return void r(e)}a.done?t(i):Promise.resolve(i).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,c){var s=e.apply(t,r);function a(e){n(s,o,c,a,i,"next",e)}function i(e){n(s,o,c,a,i,"throw",e)}a(void 0)}))}}var c=r(54),s={user:"ADMIN",password:"!@#$1234Cyber",connectString:"userdb_high",poolMax:44,poolMin:2,poolIncrement:0};function a(){return(a=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c.initOracleClient({libDir:"/opt/oracle/instantclient_21_1"}),c.autoCommit=!0,e.next=5,c.createPool(s,(function(e,r){e?console.error("createPool() callback: "+e.message):t()}));case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Whoops!"),console.error(e.t0),process.exit(1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}e.exports={config:s,intitalizeOracle:function(e){return a.apply(this,arguments)},executeDbQuery:function(e,t){c.getConnection((function(r,n){r?t(null,r):n.execute(e).then((function(e){return t(e)})).catch((function(e){return t(null,e)})).finally((function(){n.release((function(e){e&&t(null,e)}))}))}))}}},631:(e,t,r)=>{var n=r(979),o=n.saveContactData,c=n.getContactQueries;e.exports={"/savecontact":o,"/getcontactqueries":c}},979:(e,t,r)=>{var n=r(853),o=n.sendJsonResp,c=n.convertDbDataToJson,s=r(950).executeDbQuery;e.exports={saveContactData:function(e,t){var r=e.body,n="";Object.values(r).forEach((function(e){n&&(n+=","),n+="'".concat(e,"'")})),console.log(e);var c="INSERT INTO ADMIN.CONTACT_US_TABLE (".concat(Object.keys(r).join(","),"\n        ) VALUES (\n            ").concat(n,"\n        )");try{s(c,(function(e,r){if(r)return o(t,{status:"DB_ERROR",desc:"Something went wrong",err:r},500),void console.error("DB_ERROR",r,c);o(t,{status:"SUCCESS",desc:"Query noted"},200)}))}catch(e){console.error(e),handleError(t,{status:"SOMETHING_WENT_WRONG",desc:"Something went wrong",err:e},500)}},getContactQueries:function(e,t){console.log(e);var r="select * from contact_us_table ORDER BY query_date desc";try{s(r,(function(e,n){if(n)return o(t,{status:"DB_ERROR",desc:"Something went wrong",err:n},500),void console.error("DB_ERROR",n,r);var s={status:"SUCCESS",desc:"",list:c(e)};o(t,s,200)}))}catch(e){console.error(e),handleError(t,{status:"SOMETHING_WENT_WRONG",desc:"Something went wrong",err:e},500)}}}},853:e=>{function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports={sendJsonResp:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=r({"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Request-Method":"*","Access-Control-Allow-Methods":"*","Access-Control-Allow-Headers":"*"},o);e.writeHead(n,c),e.write(JSON.stringify(t)),e.end()},getRequestObject:function(e){var t=e.headers,r=e.method,n=e.url,o=[];return new Promise((function(c,s){e.on("error",(function(e){console.error(e),s(e)})).on("data",(function(e){o.push(e)})).on("end",(function(){try{var e=Buffer.concat(o).toString();c({headers:t,method:r,url:n,body:JSON.parse(e)})}catch(e){c({headers:t,method:r,url:n,body:""})}}))}))},convertDbDataToJson:function(e){var t=e.metaData;return e.rows.map((function(e){var r={};return e.forEach((function(e,n){"QUERY_DATE"===t[n].name?r[t[n].name.toLowerCase()]=new Date(parseInt(e)).toLocaleString("en-In"):r[t[n].name.toLowerCase()]=e})),r}))}}},294:e=>{"use strict";e.exports=require("babel-polyfill")},605:e=>{"use strict";e.exports=require("http")},54:e=>{"use strict";e.exports=require("oracledb")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,r),c.exports}(()=>{function e(e,t,r,n,o,c,s){try{var a=e[c](s),i=a.value}catch(e){return void r(e)}a.done?t(i):Promise.resolve(i).then(n,o)}r(294);var t=r(631),n=r(605),o=r(950).intitalizeOracle,c=r(853),s=c.sendJsonResp,a=c.getRequestObject,i=process.env.PORT||8080;o((function(){n.createServer(function(){var r,n=(r=regeneratorRuntime.mark((function e(r,n){var o,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"OPTIONS"!==r.method){e.next=5;break}return s(n,{status:"SUCCESS",desc:"done"},200),e.abrupt("return");case 5:return e.next=7,a(r);case 7:o=e.sent,(c=t[o.url.replace("/tciserver","")])?c(o,n):s(n,{status:"NOT_FOUND",desc:"server can't find the requested url"},404),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),i={status:"SERVER_FAILURE",desc:"something went wrong",err:e.t0},console.error("SERVER_FAILURE",e.t0),s(n,i,500);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})),function(){var t=this,n=arguments;return new Promise((function(o,c){var s=r.apply(t,n);function a(t){e(s,o,c,a,i,"next",t)}function i(t){e(s,o,c,a,i,"throw",t)}a(void 0)}))});return function(e,t){return n.apply(this,arguments)}}()).listen(i,process.env.IP||""),console.log("App listening to ".concat(process.env.IP||"localhost",":").concat(i,"...."))}))})()})();